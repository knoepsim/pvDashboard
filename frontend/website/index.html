<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>PV Dashboard</title>

    <!--Favicon (Tab Icon)-->
    <link
      rel="shortcut icon"
      href="assets/img/favicon.png"
      type="image/x-icon"
    />

    <!--Font Awesome Kit-->
    <script
      src="https://kit.fontawesome.com/f804232da3.js"
      crossorigin="anonymous"
      type="text/javascript"
    ></script>

    <!--Style.css-->
    <link rel="stylesheet" href="assets/style/style.css" />

    <!--Chart.js-->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!--Moment & Bridge-->
    <script src="https://cdn.jsdelivr.net/npm/moment"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-moment"></script>

    <!--jQuery-->
    <script src="assets/modules/jquery/jquery-3.6.3.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/dateformat@3.0.3/lib/dateformat.js"></script>

    <!--Color Switch Script-->
  </head>

  <body>
    <!--Fullcover for loading the Graphs-->
    <div id="fullcover">
      <div class="code-loader antiselect" onclick="removeFullCover()"><span>{</span><span>}</span>
    <p class="fullcoverTitle">PV Dashboard</p> 
    <p class="fullcoverPoints"><span id="cover1"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M304 48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zm0 416a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM48 304a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm464-48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM142.9 437A48 48 0 1 0 75 369.1 48 48 0 1 0 142.9 437zm0-294.2A48 48 0 1 0 75 75a48 48 0 1 0 67.9 67.9zM369.1 437A48 48 0 1 0 437 369.1 48 48 0 1 0 369.1 437z"/></svg></span> Check API</p>
    <p class="fullcoverPoints"><span id="cover2"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M304 48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zm0 416a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM48 304a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm464-48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM142.9 437A48 48 0 1 0 75 369.1 48 48 0 1 0 142.9 437zm0-294.2A48 48 0 1 0 75 75a48 48 0 1 0 67.9 67.9zM369.1 437A48 48 0 1 0 437 369.1 48 48 0 1 0 369.1 437z"/></svg></span> Get Database Data</p>
    <p class="fullcoverPoints"><span id="cover3"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M304 48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zm0 416a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM48 304a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm464-48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM142.9 437A48 48 0 1 0 75 369.1 48 48 0 1 0 142.9 437zm0-294.2A48 48 0 1 0 75 75a48 48 0 1 0 67.9 67.9zM369.1 437A48 48 0 1 0 437 369.1 48 48 0 1 0 369.1 437z"/></svg></span> OpenWeather API</p>
    <p class="fullcoverPoints"><span id="cover4"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M304 48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zm0 416a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM48 304a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm464-48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM142.9 437A48 48 0 1 0 75 369.1 48 48 0 1 0 142.9 437zm0-294.2A48 48 0 1 0 75 75a48 48 0 1 0 67.9 67.9zM369.1 437A48 48 0 1 0 437 369.1 48 48 0 1 0 369.1 437z"/></svg></span> Create Charts</p>

</div>
    </div>

    <!--Navbar with Light Toggler Button-->
    <nav>
      <h1>PV Dashboard <em>SIA Projekt von Simon K.</em></h1>
      <div id="lightToggler" onclick="colorSwitch()">ğŸŒ™</div>
    </nav>

    <div id="dashboard">
      <div class="container">
        <div>
          <p id="updateTime"></p>
          <h2 class="title">Aktuelle Werte</h2>
          <p class="subtitle">
            Wird automatisch alle 10 Sekunden von der API aktualisiert.
          </p>
          <div class="table-container">
            <h3>VERBRAUCHER</h3>
            <table id="consumer">
              <tr>
                <th>Verbraucher</th>
                <th>Leistung</th>
              </tr>
              <tr>
                <td>Batterie</td>
                <td>âŒ›</td>
              </tr>
              <tr>
                <td>Haushalt</td>
                <td>âŒ›</td>
              </tr>
              <tr>
                <td>Netz</td>
                <td>âŒ›</td>
              </tr>
              <tr>
                <th>Gesammt</th>
                <th>âŒ›</th>
              </tr>
            </table>
          </div>

          <div class="table-container">
            <h3>QUELLEN</h3>
            <table id="sources">
              <tr>
                <th>Quelle</th>
                <th>Leistung</th>
              </tr>
              <tr>
                <td>Batterie</td>
                <td>âŒ›</td>
              </tr>
              <tr>
                <td>Produktion</td>
                <td>âŒ›</td>
              </tr>
              <tr>
                <td>Netz</td>
                <td>âŒ›</td>
              </tr>
              <tr>
                <th>Gesammt</th>
                <th>âŒ›</th>
              </tr>
            </table>
          </div>
        </div>
      </div>

      <div class="container">
        <h1 id="clock">Clock</h1>
        <p id="date">Date</p>
      </div>

      <div class="container">
        <h2 class="title">Batterie</h2>
        <div class="batteryContainer">
          <div class="batteryOuter">
            <div id="batteryLevel"></div>
          </div>
          <div class="batteryBump"></div>
          <p id="batteryPercent">âŒ› %</p>
        </div>
      </div>

      <div class="container">
        <div>
          <button
            id="chart1-reload"
            class="reload-btn"
            onclick="updateChart1()"
          >
            aktualisieren
          </button>
          <h2 class="title">Leistungsdiagramm der letzen Stunde</h2>
          <p class="subtitle">
            Ein Durschnittswert pro Minute aus Messwerten aller 10 Sekunden
          </p>
          <p id="chart1error" class="chartFrame">
            <canvas id="chart1" class="chart"></canvas>
          </p>
        </div>
      </div>

      <div class="container">
        <div>
          <!-- <button
            id="chart11-reload"
            class="reload-btn"
            onclick="updateChart11()"
          >
            aktualisieren
          </button> -->
          <h2 class="title">Faktor 1 - Sonnenstand</h2>
          <p class="subtitle">
           Sonnenstand durch Sonnenauf- und Sonnenuntergang und dem daraus resultiererdenden SonnenhÃ¶chststand.
          </p>
          <p id="chart11error" class="chartFrame">
            <canvas id="chart11" class="chart"></canvas>
          </p>
        </div>
      </div>

      <div class="container">
        <div>
          <button
            id="chart10-reload"
            class="reload-btn"
            onclick="updateChart10()"
          >
            aktualisieren
          </button>
          <h2 class="title">Faktor 2 - Lineare Regression</h2>
          <p class="subtitle">Lineare Regression: Durch vorhandene Werte aus der Datenbank werden (zukÃ¼nftige) Werte durch lineare Regression, welche einen linearen Trend darstellt, berechnet. Wenn fÃ¼r den Zeitraum der Vorhersage Daten vorliegen, werden diese angezeigt. Die Daten fÃ¼r die Regression sind dabei links neben der roten vertikalen Linie.</p>
          <p class="userInput">
            Startpunkt der Vorhersage: 
            <input type="datetime-local" id="chart10ts" />
          </p>
          <p class="userInput">
            Input (aus der Datenbank) in Minuten: 
            <input type="range" min="2" max="100" value="30" id="chart10reg" />
            (<em id="chart10regVal">30</em>)
          </p>
          <p class="userInput">
            Output (Vorhersage) in Minuten: 
            <input type="range" min="1" max="100" value="30" id="chart10pred" />
            (<em id="chart10predVal">30</em>)
          </p>
             
          </p>
          <p id="chart10error" class="chartFrame">
            <canvas id="chart10" class="chart"></canvas>
          </p>
        </div>
      </div>



      <div class="container">
        <div>
          <button
            id="chart12-reload"
            class="reload-btn"
            onclick="updatechart12()"
          >
            aktualisieren
          </button>
          <h2 class="title">Faktor 3 - BewÃ¶lkung</h2>
          <p class="subtitle">
            aktuelle BewÃ¶lkung und Vorhersage der BewÃ¶lkung in der Zukunft
          </p>
          <p id="chart12error" class="chartFrame">
            <canvas id="chart12" class="chart"></canvas>
          </p>
        </div>
      </div>


    </div>
    <script src="assets/script/app.js"></script>
    <script src="assets/script/checkDB.js"></script>
    <script src="assets/script/current.js"></script>
    <script src="assets/script/clockUpdate.js"></script>
    <script src="assets/script/chart1.js"></script>
    <script src="assets/script/fullCover.js"></script>
    <script src="assets/script/chart10.js"></script>
    <script src="assets/script/colorswitch.js"></script>
    <script src="assets/script/chart11.js"></script>
    <script src="assets/script/chart12.js"></script>
  </body>
</html>
